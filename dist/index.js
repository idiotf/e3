(()=>{"use strict";class e extends CustomEvent{}class n extends CustomEvent{}class t extends EventTarget{#e=null;#n=null;#t=null;#r=null;constructor(){super(),next.router.events.on("routeChangeStart",((n,{shallow:t})=>this.dispatchEvent(new e("routerchangestart",{detail:{url:n,shallow:t}})))),next.router.events.on("beforeHistoryChange",((n,{shallow:t})=>this.dispatchEvent(new e("beforehistorychange",{detail:{url:n,shallow:t}})))),next.router.events.on("routeChangeComplete",((n,{shallow:t})=>this.dispatchEvent(new e("routechangecomplete",{detail:{url:n,shallow:t}})))),next.router.events.on("routeChangeError",((e,t,{shallow:r})=>this.dispatchEvent(new n("routechangeerror",{detail:{error:e,url:t,shallow:r}}))))}async#o(e,n,t,r){const o=next.router.components[next.router.pathname].props,s=new Headers({"Content-Type":"application/json","Csrf-Token":o.initialProps.csrfToken});o.initialState.common.user&&s.set("X-Token",o.initialState.common.user?.xToken);const a=new Request(`https://playentry.org/graphql/${e}`,{method:"POST",headers:s,body:JSON.stringify({query:n,variables:t}),signal:r});return(await fetch(a)).json()}async*qna(e){const n={category:"qna",searchType:"page",term:e.term||"all",pageParam:{start:e.start||0,display:e.display||10}};for(;;){const e=await this.#o("SELECT_QNA_LIST","query SELECT_QNA_LIST(\n$pageParam:PageParam\n$query:String\n$user:String\n$category:String\n$term:String\n$prefix:String\n$progress:String\n$discussType:String\n$searchType:String\n$searchAfter:JSON\n$tag:String\n){\ndiscussList(\npageParam:$pageParam\nquery:$query\nuser:$user\ncategory:$category\nterm:$term\nprefix:$prefix\nprogress:$progress\ndiscussType:$discussType\nsearchType:$searchType\nsearchAfter:$searchAfter\ntag:$tag\n){\ntotal\nlist{\nid\ntitle\ncreated\ncommentsLength\nlikesLength\nvisit\nuser{\nid\nnickname\nusername\nprofileImage{\nid\nname\nlabel{\nko\nen\nja\nvn\n}\nfilename\nimageType\ndimension{\nwidth\nheight\n}\ntrimmed{\nfilename\nwidth\nheight\n}\n}\nstatus{\nfollowing\nfollower\n}\ndescription\nrole\nmark{\nid\nname\nlabel{\nko\nen\nja\nvn\n}\nfilename\nimageType\ndimension{\nwidth\nheight\n}\ntrimmed{\nfilename\nwidth\nheight\n}\n}\n}\nbestComment{\ncontent\n}\nthumbnail\n}\nsearchAfter\n}\n}",n);if(e.error)throw e.error;if(!e.data.discussList.list[0])return;for(const n of e)yield n}}get onroutechangestart(){return this.#e}set onroutechangestart(e){this.#e&&this.removeEventListener("routechangestart",this.#e),this.#e=e,e&&this.addEventListener("routechangestart",e)}get onbeforehistorychange(){return this.#n}set onbeforehistorychange(e){this.#n&&this.removeEventListener("beforehistorychange",this.#n),this.#n=e,e&&this.addEventListener("beforehistorychange",e)}get onroutechangecomplete(){return this.#t}set onroutechangecomplete(e){this.#t&&this.removeEventListener("routechangecomplete",this.#t),this.#t=e,e&&this.addEventListener("routechangecomplete",e)}get onroutechangeerror(){return this.#r}set onroutechangeerror(e){this.#r&&this.removeEventListener("routechangeerror",this.#r),this.#r=e,e&&this.addEventListener("routechangeerror",e)}}Object.defineProperties(self,{E3:{value:t},E3RouterEvent:{value:e},E3RouterErrorEvent:{value:n}})})();